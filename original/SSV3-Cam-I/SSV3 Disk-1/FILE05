cat afile05
**** CREATED AT 23-AUG-1989 14:23:01.30 ****
**** FILENAME = [MM001.SSV3TAPE.TEST]LOADCOMPGEN.COM ****
$ FORTRAN LOADCOMP+VAXBITCM
$ LINK LOADCOMP
**** FILENAME = [MM001.SSV3TAPE.TEST]RUNLOAD.COM ****
$ ASS BPFILE.FOR FOR001
$ ASS NTFILE.FOR FOR002
$ ASS GPFILE.FOR FOR003
$ ASS ELFILE.DAT FOR004
$ ASS LCDATA.DAT FOR005
$ ASS VLFILE.LIS FOR006
$ RUN  LOADCOMP
$ DEASS FOR001
$ DEASS FOR002
$ DEASS FOR003
$ DEASS FOR004
$ DEASS FOR005
$ DEASS FOR006
$ FORTRAN/LIST/OBJECT=SSV3BD BPFILE+NTFILE+GPFILE
**** FILENAME = [MM001.SSV3TAPE.TEST]SSV3GEN.COM ****
$ FORTRAN SUPERVIS,TRANSLAT,ILEDITOR,-
 XECUTION,APTGEOM,ARELEM,-
 SSGEOM,SSEVAL,SSARELEM,REGMILL,SSDATA,NONNATIV,-
 APTFUN,AUXILARY,CLEDITOR,POSTEXEC,UTILITY,-
 GOLOFT,INTCHECK,GOUGECHK,VAX
$ LINK/EXECUTABLE=SSV3 SUPERVIS,SSV3BD,TRANSLAT,ILEDITOR,-
 XECUTION,APTGEOM,ARELEM,-
 SSGEOM,SSEVAL,SSARELEM,REGMILL,SSDATA,NONNATIV,-
 APTFUN,AUXILARY,CLEDITOR,POSTEXEC,UTILITY,-
 GOLOFT,INTCHECK,GOUGECHK,VAX
**** FILENAME = [MM001.SSV3TAPE.TEST]SSV3.COM ****
$  !
$  ! COMMAND PROCEDURE TO RUN SSV3
$  !
$  ! PARAMETERS  P1 PART PROGRAM DATA FILE
$  !             P2 APTLIB LIBRARY - MACROS,SEGMENTS, LDA FILES ETC.
$  !
$ SET NOVERIFY
$ ON CONTROL_Y THEN GOTO 1
$ ON ERROR THEN GOTO ERROR_EXIT
$ DEFINE/NOLOG SYS$SSV3 [MM001.SSV3TAPE.TEST]
$ DEFINE/NOLOG SYS$APTLIB [APT4.APTLIB]
$ DEFINE/NOLOG SYS$PPLIB [APT4.PPLIB]
$ !
$ IF "''F$MODE()'".EQS."BATCH" THEN GOTO 2
$ IF P1.EQS."" THEN GOTO PROMPT
$ IF P2.EQS."" THEN GOTO A
$ 2:
$ DEFINE SYS$APTLIB 'P2'
$ 3:
$ ! Set up index to SYS$APTLIB
$ !
$ DIR/SIZE/DATE/OUTPUT=SYS$APTLIB:INDEX.DAT SYS$APTLIB
$ PURGE SYS$APTLIB:INDEX.DAT
$ RENAME SYS$APTLIB:INDEX.DAT SYS$APTLIB:INDEX.DAT;1
$ !
$ ASS/NOLOG 'P1' SYS$INPUT
$ FILE_SPEC := 'P1'
$ FILE_NAME := 'F$PARSE(FILE_SPEC,,,"NAME")
$ OUTFIL := 'FILE_NAME'.LIS
$ PUNFIL := 'FILE_NAME'.PUN
$ ASS/NOLOG 'OUTFIL' FOR006
$ ASS/NOLOG CLFILE.CLF FOR003
$ !
$ RUN SYS$SSV3:SSV3
$ !
$ ! Post Process CLDATA file through each requested Post Processor
$ !
$ OPEN/ERROR=NOPOST IN PPFILE.DAT
$ PP:
$ READ/END_OF_FILE=CONT IN PPNAME
$ RUN SYS$PPLIB:'PPNAME'
$ APPEND VLFILE.LIS 'OUTFIL'
$ DEL VLFILE.LIS;*
$ RENAME PUNTAP.PUN 'PUNFIL'
$ GOTO PP
$ CONT:
$ RUN SYS$PPLIB:'PPNAME'
$ APPEND VLFILE.LIS 'OUTFIL'
$ DEL VLFILE.LIS;*
$ RENAME PUNTAP.PUN 'PUNFIL'
$ CLOSE IN
$ DEL PPFILE.DAT;*
$ !
$ IF "''F$MODE()'".EQS."BATCH" THEN GOTO BOUT
$ 1:
$ DEAS SYS$INPUT
$ DEAS SYS$OUTPUT
$ DEAS FOR006
$ GOTO OUT
$ !
$ NOPOST:
$ IF "''F$MODE()'".EQS."BATCH" THEN GOTO FIN
$ DEAS SYS$INPUT
$ GOTO FIN
$   !
$ PROMPT:
$ INQ P1 "Part Program Input File"
$ IF P1.EQS."" THEN GOTO PROMPT
$ A:
$ INQ P2 "APTLIB Directory or Subdirectory name "
$ IF P2.EQS."" THEN GOTO B
$ GOTO 2
$ B:
$ SHOW LOGICAL/PROCESS SYS$APTLIB
$ INQ N "SYS$APTLIB assumed is this OK (Y/N)"
$ IF N.EQS."N" THEN GOTO A
$ GOTO 3
$ BAT:
$ IF P1.EQS."" THEN GOTO FIN
$ IF P2.NES."" THEN GOTO 2
$ GOTO 3
$ OUT:
$ INQ N "Do you wish to save the CLDATA file (Y/N)?"
$ IF N.EQS."N" THEN GOTO DEL_CLF
$ INQ N "Is Default file name (file_name.clf) OK (Y/N)?"
$ IF N.EQS."N" THEN GOTO 4
$ BOUT:
$ REN CLFILE.CLF 'FILE_NAME'.CLF
$ GOTO FIN
$ DEL_CLF:
$ DEL CLFILE.CLF;*
$ GOTO FIN
$ 4:
$ INQ CLF3 "File name"
$ REN CLFILE.CLF 'CLF3'
$ GOTO FIN
$ ERROR_EXIT:
$ DEASS SYS$INPUT
$ DEASS SYS$OUTPUT
$ DEASS FOR006
$ DEL PPFILE.DAT;*
$ DEL CLFILE.CLF;*
$ CLOSE IN
$ FIN:
$ DEASS FOR003
$ EXIT
**** FILENAME = [MM001.SSV3TAPE.TEST]LOADCOMPGEN.EXEC ****
GLOBAL MACLIB INCFILES
FORTVS LOADCOMP
FORTVS IBMBITCM
GLOBAL TXTLIB VFORTLIB
LOAD LOADCOMP IBMBITCM
GENMOD LOADCOMP
**** FILENAME = [MM001.SSV3TAPE.TEST]RUNLOAD.EXEC ****
GLOBAL LOADLIB VFLODLIB
FI 1 DISK BPFILE FORTRAN
FI 2 DISK NTFILE FORTRAN
FI 3 DISK GPFILE FORTRAN
FI 5 DISK LCDATA DATA
FI 6 DISK VLFILE LISTING
LOADCOMP
**** FILENAME = [MM001.SSV3TAPE.TEST]SSV3GEN.EXEC ****
/* Procedure to compile and load SSV3 under IBM VM/CMS */
/* Module UTILITY may need to be renamed */
DEFINE STORAGE 4M
GLOBAL MACLIB INCFILES
FORTVS SUPERVIS (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS BPFILE (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS NTFILE (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS GPFILE (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS TRANSLAT (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS ILEDITOR (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS XECUTION (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS APTGEOM (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS ARELEM (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS SSGEOM (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS SSEVAL (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS SSARELEM (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS REGMILL (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS SSDATA (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS NONNATIV (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS APTFUN (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS AUXILARY (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS CLEDITOR (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS POSTEXEC (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS UTILITY (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS GOLOFT (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS INTCHECK (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS GOUGECHK (NOSOURCE CHARLEN(1000) NOXUFLOW)
FORTVS IBM (NOSOURCE CHARLEN(1000) NOXUFLOW)
ASSEMB ADDRSS
ASSEMB APT241
/* LOAD SSV3 */
SET LDRTBLS 5
GLOBAL TXTLIB VFORTLIB UTILITY
LOAD SUPERVIS BPFILE NTFILE GPFILE
INCLUDE TRANSLAT ILEDITOR XECUTION APTGEOM ARELEM
INCLUDE SSGEOM SSEVAL SSARELEM REGMILL SSDATA NONNATIV
INCLUDE APTFUN AUXILARY CLEDITOR POSTEXEC UTILITY
INCLUDE GOLOFT INTCHECK GOUGECHK
INCLUDE IBM ADDRSS APT241
GENMOD SSV3
**** FILENAME = [MM001.SSV3TAPE.TEST]RUNSSV3.EXEC ****
SET LDRTBLS 5
GLOBAL LOADLIB VFLODLIB
FI 1 DISK CPFILE DATA
FI 2 DISK CLFILE DATA
FI 3 DISK CLFIL3 DATA
FI 5 DISK TEST01 DATA
FI 6 DISK TEST01 LIS
FI 7 DISK PNCHFL DATA
FI 8 DISK AXFILE DATA
SSV3
**** EOF ****





(uafhcx) 158% 