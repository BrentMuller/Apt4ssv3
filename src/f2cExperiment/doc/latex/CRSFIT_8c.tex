\hypertarget{CRSFIT_8c}{}\section{C\+R\+S\+F\+I\+T.\+c File Reference}
\label{CRSFIT_8c}\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
{\ttfamily \#include \char`\"{}f2c.\+h\char`\"{}}\\*
Include dependency graph for C\+R\+S\+F\+I\+T.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=142pt]{CRSFIT_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\+\_\+1}~\hyperlink{XTPCAL_8c_a00d42583c036d05afed4d07a03432522}{ibugg\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{CRSFIT_8c_a2557eb9de98437df734ebca02c00b4a8}{crsfit\+\_\+} (doublereal $\ast$sa, doublereal $\ast$\hyperlink{APT089_8c_ac2a2594136fa4820872df1de2b046320}{sb}, doublereal $\ast$\hyperlink{ZSURF_8c_a9cae3e36ae5e63785447451b6081dc98}{sc}, doublereal $\ast$sd, integer $\ast$\hyperlink{SSV3_8c_ae6291c7ad4bbbf5230272398ac66056b}{ierror})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>integer \hyperlink{CRSFIT_8c_acf8cd9aebbc7f97517952bf2f89ed57c}{ibug}\\
\>integer \hyperlink{CRSFIT_8c_aa7c1d3b50810f4362d609ea905340770}{ipcolc}\\
\>integer \hyperlink{CRSFIT_8c_a0def98d78ab8101d518729447f28e4e8}{ipcomc}\\
\} \hyperlink{CRSFIT_8c_acaf26aae16be49ce9ebcfd66b107d1da}{ibugg\_}\\

\end{tabbing}\item 
static integer \hyperlink{CRSFIT_8c_a4e8bcb2aadbe17eeff89a0f201645d0a}{c\+\_\+\+\_\+2} = 2
\item 
static integer \hyperlink{CRSFIT_8c_a5e7359f78743350865398325d9155f20}{c\+\_\+\+\_\+3} = 3
\item 
static integer \hyperlink{CRSFIT_8c_ab195470f8c6d55e333ee709af09ba2d6}{c\+\_\+\+\_\+4} = 4
\item 
static integer \hyperlink{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\+\_\+\+\_\+1} = 1
\item 
static integer \hyperlink{CRSFIT_8c_ac1b28bfdd6ccb89299c47817c082755e}{c\+\_\+\+\_\+5} = 5
\item 
static integer \hyperlink{CRSFIT_8c_a3543660f1ae989ebc88144db7ea3ecfd}{c\+\_\+\+\_\+6} = 6
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!ibugg\+\_\+1@{ibugg\+\_\+1}}
\index{ibugg\+\_\+1@{ibugg\+\_\+1}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{ibugg\+\_\+1}{ibugg_1}}]{\setlength{\rightskip}{0pt plus 5cm}\#define ibugg\+\_\+1~{\bf ibugg\+\_\+}}\hypertarget{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{}\label{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}


Definition at line 21 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().



\subsection{Function Documentation}
\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!crsfit\+\_\+@{crsfit\+\_\+}}
\index{crsfit\+\_\+@{crsfit\+\_\+}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{crsfit\+\_\+(doublereal $\ast$sa, doublereal $\ast$sb, doublereal $\ast$sc, doublereal $\ast$sd, integer $\ast$ierror)}{crsfit_(doublereal *sa, doublereal *sb, doublereal *sc, doublereal *sd, integer *ierror)}}]{\setlength{\rightskip}{0pt plus 5cm}int crsfit\+\_\+ (
\begin{DoxyParamCaption}
\item[{doublereal $\ast$}]{sa, }
\item[{doublereal $\ast$}]{sb, }
\item[{doublereal $\ast$}]{sc, }
\item[{doublereal $\ast$}]{sd, }
\item[{integer $\ast$}]{ierror}
\end{DoxyParamCaption}
)}\hypertarget{CRSFIT_8c_a2557eb9de98437df734ebca02c00b4a8}{}\label{CRSFIT_8c_a2557eb9de98437df734ebca02c00b4a8}


Definition at line 34 of file C\+R\+S\+F\+I\+T.\+c.



References blendf\+\_\+(), c\+\_\+\+\_\+1, c\+\_\+\+\_\+2, c\+\_\+\+\_\+3, c\+\_\+\+\_\+4, c\+\_\+\+\_\+5, c\+\_\+\+\_\+6, curflo\+\_\+(), ibugg\+\_\+1, ierror, j, k, l, one, sb, sc, scdump\+\_\+(), temp, u, va, and zero.



Referenced by gencrv\+\_\+().


\begin{DoxyCode}
36 \{
37     \textcolor{comment}{/* Initialized data */}
38 
39     \textcolor{keyword}{static} doublereal \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero} = 0.;
40     \textcolor{keyword}{static} doublereal \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one} = 1.;
41     \textcolor{keyword}{static} doublereal smal = 1e-10;
42     \textcolor{keyword}{static} integer ict = 0;
43 
44     \textcolor{comment}{/* System generated locals */}
45     integer i\_\_1;
46     doublereal d\_\_1, d\_\_2, d\_\_3;
47 
48     \textcolor{comment}{/* Builtin functions */}
49     \textcolor{keywordtype}{double} sqrt(doublereal);
50 
51     \textcolor{comment}{/* Local variables */}
52     \textcolor{keyword}{static} integer \hyperlink{PRO026_8c_aa8c84707b22bdc99b810d3c7d3ec5d52}{j}, \hyperlink{MOTION_8c_a13b230ea1d237595fb236c951a0849e0}{k}, \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l};
53     \textcolor{keyword}{static} doublereal \hyperlink{APT088_8c_a1f9aca42e2010bb82488684dee1a66ea}{u};
54     \textcolor{keyword}{static} integer n1, n2;
55     \textcolor{keyword}{static} doublereal \hyperlink{APT109_8c_a09d95c7199acbf4481958c15f6df0fb9}{va}[3], vb[3], cv[16], wa, wb, vec[3];
56     \textcolor{keyword}{static} integer nhi, nlo;
57     \textcolor{keyword}{static} doublereal sum;
58     \textcolor{keyword}{static} integer ient;
59     \textcolor{keyword}{static} doublereal \hyperlink{APT100_8c_a5905d48604152cf57aa6bfa087b49173}{temp}, proj;
60     \textcolor{keyword}{static} integer nrow, ipass;
61     \textcolor{keyword}{extern} \textcolor{comment}{/* Subroutine */} \textcolor{keywordtype}{int} \hyperlink{BLENDF_8c_adcd0358291353ee31352d01d46b864c9}{blendf\_}(doublereal *, doublereal *);
62     \textcolor{keyword}{static} doublereal floval;
63     \textcolor{keyword}{extern} \textcolor{comment}{/* Subroutine */} \textcolor{keywordtype}{int} \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(integer *, doublereal *), \hyperlink{CURFLO_8c_a0b62b83550ba1c0345040e1d700fdeba}{curflo\_}(
64         doublereal *, doublereal *, doublereal *, integer *, integer *);
65     \textcolor{keyword}{static} integer narcrw, nsegrw;
66 
67 \textcolor{comment}{/* ---     PURPOSE IS TO FILL OUT ALL CROSS SLOPE VECTORS IN */}
68 \textcolor{comment}{/* ---     THE CURVES SA,SB GIVEN THAT SA,SB  AND SC,SD FORM */}
69 \textcolor{comment}{/* ---     OPPOSITE PAIRS OF A FOUR SIDED PATCH.  ALL CURVES */}
70 \textcolor{comment}{/* ---     ARE SINGLE SEGMENT FLOW CURVES. */}
71 \textcolor{comment}{/* ---     IF AN ERROR IS ENCOUNTERED, IERROR IS NOT ZERO ON RETURN */}
72     \textcolor{comment}{/* Parameter adjustments */}
73     --sd;
74     --\hyperlink{APT108_8c_a03ede5fb0d1eb2158dbb5f2aeb7a5066}{sc};
75     --\hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb};
76     --sa;
77 
78     \textcolor{comment}{/* Function Body */}
79 
80 \textcolor{comment}{/* ---     MAKE TWO PASSES, ONE FOR THE CURVE SA, THE OTHER FOR SB */}
81 
82 
83     ient = *\hyperlink{APT001_8c_ae6291c7ad4bbbf5230272398ac66056b}{ierror};
84     *\hyperlink{APT001_8c_ae6291c7ad4bbbf5230272398ac66056b}{ierror} = 0;
85 
86     ict += 10;
87     \textcolor{keywordflow}{if} (\hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug == 11) \{
88     \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(&ict, &sa[1]);
89     \}
90     \textcolor{keywordflow}{if} (\hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug == 11) \{
91     \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(&\hyperlink{CRSFIT_8c_a4e8bcb2aadbe17eeff89a0f201645d0a}{c\_\_2}, &\hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[1]);
92     \}
93     \textcolor{keywordflow}{if} (\hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug == 11) \{
94     \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(&\hyperlink{CRSFIT_8c_a5e7359f78743350865398325d9155f20}{c\_\_3}, &\hyperlink{APT108_8c_a03ede5fb0d1eb2158dbb5f2aeb7a5066}{sc}[1]);
95     \}
96     \textcolor{keywordflow}{if} (\hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug == 11) \{
97     \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(&\hyperlink{CRSFIT_8c_ab195470f8c6d55e333ee709af09ba2d6}{c\_\_4}, &sd[1]);
98     \}
99     \textcolor{keywordflow}{for} (ipass = 1; ipass <= 2; ++ipass) \{
100     u = (doublereal) (ipass - 1);
101 \textcolor{comment}{/* ---     PICK UP CROSS VECTORS AT ENDS FROM SC AND SD */}
102     \hyperlink{CURFLO_8c_a0b62b83550ba1c0345040e1d700fdeba}{curflo\_}(&u, &\hyperlink{APT108_8c_a03ede5fb0d1eb2158dbb5f2aeb7a5066}{sc}[1], cv, &\hyperlink{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, &\hyperlink{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1});
103     \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
104 \textcolor{comment}{/* L20: */}
105         va[l - 1] = cv[l + 3];
106     \}
107     \hyperlink{CURFLO_8c_a0b62b83550ba1c0345040e1d700fdeba}{curflo\_}(&u, &sd[1], cv, &\hyperlink{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, &\hyperlink{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1});
108     \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
109 \textcolor{comment}{/* L30: */}
110         vb[l - 1] = cv[l + 3];
111     \}
112 
113 \textcolor{comment}{/* ---     STORE THESE VECTORS INTO THE ENDS OF CURVE SA OR SB */}
114     \textcolor{keywordflow}{if} (ipass == 2) \{
115         \textcolor{keywordflow}{goto} L350;
116     \}
117 
118     n1 = 16;
119     n2 = (integer) ((sa[2] + sa[4] - one) * 24.f + 16.f);
120     \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
121         sa[n1 + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = va[l - 1];
122 \textcolor{comment}{/* L310: */}
123         sa[n2 + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = vb[l - 1];
124     \}
125     sa[n1 + 4] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
126     sa[n2 + 4] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
127     \textcolor{keywordflow}{goto} L390;
128 
129 L350:
130     n1 = 16;
131     n2 = (integer) ((\hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[2] + \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[4] - one) * 24.f + 16.f);
132     \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
133         \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[n1 + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = va[l - 1];
134 \textcolor{comment}{/* L320: */}
135         \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[n2 + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = vb[l - 1];
136     \}
137     \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[n1 + 4] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
138     \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[n2 + 4] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
139 L390:
140 
141 \textcolor{comment}{/* ---      SKIP OTHER CALCULATIONS IF IENT IS -11 */}
142     \textcolor{keywordflow}{if} (ient == -11) \{
143         \textcolor{keywordflow}{goto} L10;
144     \}
145 
146 \textcolor{comment}{/* ---     DETERMINE N1,N2 THE STARTING AND ENDING ARC JUNCTIONS */}
147     n1 = 0;
148     \textcolor{keywordflow}{if} (ipass == 2) \{
149         \textcolor{keywordflow}{goto} L40;
150     \}
151     narcrw = (integer) sa[7];
152     nsegrw = (integer) sa[9];
153     n2 = (integer) (sa[nsegrw + 1] + n1);
154     \textcolor{keywordflow}{goto} L50;
155 L40:
156     narcrw = (integer) \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[7];
157     nsegrw = (integer) \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[9];
158     n2 = (integer) (\hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[nsegrw + 1] + n1);
159 L50:
160 
161 \textcolor{comment}{/* ---     NLO,NHI REPRESENT JUNCTION PT LIMITS TO BE TESTED AND */}
162 \textcolor{comment}{/* ---     IF NECESSARY TO RECEIVE CROSS SLOPE VECTORS */}
163     nlo = n1 + 1;
164     nhi = n2 - 1;
165     \textcolor{keywordflow}{if} (nhi < nlo) \{
166         \textcolor{keywordflow}{goto} L10;
167     \}
168 
169     i\_\_1 = nhi;
170     \textcolor{keywordflow}{for} (k = nlo; k <= i\_\_1; ++\hyperlink{MOTION_8c_a13b230ea1d237595fb236c951a0849e0}{k}) \{
171         nrow = narcrw + (k << 2);
172 
173 \textcolor{comment}{/* ---     DETERMINE FLOW VALUE OF THIS JUNCTION POINT */}
174         \textcolor{keywordflow}{if} (ipass == 2) \{
175         \textcolor{keywordflow}{goto} L70;
176         \}
177         nrow = (integer) sa[nrow];
178         floval = sa[nrow];
179         \textcolor{keywordflow}{goto} L80;
180 L70:
181         nrow = (integer) \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[nrow];
182         floval = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[nrow];
183 L80:
184 \textcolor{comment}{/* ---     DETERMINE THE BLEND OF END VECTORS BASED ON FLOVAL */}
185         \hyperlink{BLENDF_8c_adcd0358291353ee31352d01d46b864c9}{blendf\_}(&floval, cv);
186         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
187 \textcolor{comment}{/* L90: */}
188         vec[l - 1] = cv[0] * va[l - 1] + cv[1] * vb[l - 1];
189         \}
190         wa = sqrt(vec[0] * vec[0] + vec[1] * vec[1] + vec[2] * vec[2]);
191 
192 \textcolor{comment}{/* ---     NOW CHECK THIS JUNCTION FOR CONSTRAINT DATA ALREADY THERE */}
193         j = k * 24 + 16;
194         \textcolor{keywordflow}{if} (ipass == 1) \{
195         temp = sa[j + 4];
196         \}
197         \textcolor{keywordflow}{if} (ipass == 2) \{
198         temp = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 4];
199         \}
200         \textcolor{keywordflow}{if} ((d\_\_1 = temp - one, abs(d\_\_1)) > smal) \{
201         \textcolor{keywordflow}{goto} L100;
202         \}
203 
204 \textcolor{comment}{/* ---     A CROSS VECTOR IS ALREADY PRESENT, MODIFY ITS LENGTH TO WA */}
205         \textcolor{keywordflow}{if} (ipass == 2) \{
206         \textcolor{keywordflow}{goto} L110;
207         \}
208 \textcolor{comment}{/* Computing 2nd power */}
209         d\_\_1 = sa[j + 1];
210 \textcolor{comment}{/* Computing 2nd power */}
211         d\_\_2 = sa[j + 2];
212 \textcolor{comment}{/* Computing 2nd power */}
213         d\_\_3 = sa[j + 3];
214         wb = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3);
215         \textcolor{keywordflow}{if} (wb < smal) \{
216         \textcolor{keywordflow}{goto} L140;
217         \}
218         wb = wa / wb;
219         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
220 \textcolor{comment}{/* L120: */}
221         sa[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = wb * sa[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}];
222         \}
223         \textcolor{keywordflow}{goto} L60;
224 L110:
225 \textcolor{comment}{/* Computing 2nd power */}
226         d\_\_1 = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 1];
227 \textcolor{comment}{/* Computing 2nd power */}
228         d\_\_2 = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 2];
229 \textcolor{comment}{/* Computing 2nd power */}
230         d\_\_3 = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 3];
231         wb = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3);
232         \textcolor{keywordflow}{if} (wb < smal) \{
233         \textcolor{keywordflow}{goto} L140;
234         \}
235         wb = wa / wb;
236         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
237 \textcolor{comment}{/* L130: */}
238         \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = wb * \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}];
239         \}
240         \textcolor{keywordflow}{goto} L60;
241 
242 L100:
243         \textcolor{keywordflow}{if} (ipass == 1) \{
244         temp = sa[j + 8];
245         \}
246         \textcolor{keywordflow}{if} (ipass == 2) \{
247         temp = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 8];
248         \}
249         \textcolor{keywordflow}{if} ((d\_\_1 = temp - one, abs(d\_\_1)) > smal) \{
250         \textcolor{keywordflow}{goto} L140;
251         \}
252 
253 \textcolor{comment}{/* ---     A SURFACE NORMAL CONSTRAINT IS PRESENT, PROJECT VEC */}
254 \textcolor{comment}{/* ---     INTO THE PLANE OF THIS NORMAL AND ASSIGN WA AS LENGTH */}
255         \textcolor{keywordflow}{if} (ipass == 2) \{
256         \textcolor{keywordflow}{goto} L150;
257         \}
258 \textcolor{comment}{/* Computing 2nd power */}
259         d\_\_1 = sa[j + 5];
260 \textcolor{comment}{/* Computing 2nd power */}
261         d\_\_2 = sa[j + 6];
262 \textcolor{comment}{/* Computing 2nd power */}
263         d\_\_3 = sa[j + 7];
264         wb = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3);
265         \textcolor{keywordflow}{if} (wb < smal) \{
266         \textcolor{keywordflow}{goto} L140;
267         \}
268         proj = (vec[0] * sa[j + 5] + vec[1] * sa[j + 6] + vec[2] * sa[j + 
269             7]) / wb;
270         sum = \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero};
271         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
272         vec[l - 1] -= proj * sa[j + 4 + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] / wb;
273 \textcolor{comment}{/* L160: */}
274 \textcolor{comment}{/* Computing 2nd power */}
275         d\_\_1 = vec[l - 1];
276         sum += d\_\_1 * d\_\_1;
277         \}
278         sum = sqrt(sum);
279         \textcolor{keywordflow}{if} (sum < smal) \{
280         \textcolor{keywordflow}{goto} L140;
281         \}
282         wb = wa / sum;
283         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
284 \textcolor{comment}{/* L170: */}
285         sa[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = wb * vec[l - 1];
286         \}
287         \textcolor{keywordflow}{goto} L60;
288 
289 L150:
290 \textcolor{comment}{/* Computing 2nd power */}
291         d\_\_1 = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 5];
292 \textcolor{comment}{/* Computing 2nd power */}
293         d\_\_2 = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 6];
294 \textcolor{comment}{/* Computing 2nd power */}
295         d\_\_3 = \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 7];
296         wb = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3);
297         \textcolor{keywordflow}{if} (wb < smal) \{
298         \textcolor{keywordflow}{goto} L140;
299         \}
300         proj = (vec[0] * \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 5] + vec[1] * \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 6] + vec[2] * \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 
301             7]) / wb;
302         sum = \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero};
303         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
304         vec[l - 1] -= proj * \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 4 + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] / wb;
305 \textcolor{comment}{/* L180: */}
306 \textcolor{comment}{/* Computing 2nd power */}
307         d\_\_1 = vec[l - 1];
308         sum += d\_\_1 * d\_\_1;
309         \}
310         sum = sqrt(sum);
311         \textcolor{keywordflow}{if} (sum < smal) \{
312         \textcolor{keywordflow}{goto} L140;
313         \}
314         wb = wa / sum;
315         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
316 \textcolor{comment}{/* L190: */}
317         \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = wb * vec[l - 1];
318         \}
319         \textcolor{keywordflow}{goto} L60;
320 
321 L140:
322 \textcolor{comment}{/* ---     USE VEC TO DETERMINE THE CROSS CONSTRAINT AT JUNCTION J */}
323         \textcolor{keywordflow}{if} (ipass == 2) \{
324         \textcolor{keywordflow}{goto} L200;
325         \}
326         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
327 \textcolor{comment}{/* L210: */}
328         sa[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = vec[l - 1];
329         \}
330         sa[j + 4] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
331         \textcolor{keywordflow}{goto} L60;
332 L200:
333         \textcolor{keywordflow}{for} (l = 1; l <= 3; ++\hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}) \{
334 \textcolor{comment}{/* L220: */}
335         \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + \hyperlink{PRO026_8c_a1cb503ddd20ff3cf9588d2b5abd202d8}{l}] = vec[l - 1];
336         \}
337         \hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[j + 4] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
338 
339 L60:
340         ;
341     \}
342 
343 L10:
344     ;
345     \}
346 
347     \textcolor{keywordflow}{if} (\hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug == 11) \{
348     \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(&\hyperlink{CRSFIT_8c_ac1b28bfdd6ccb89299c47817c082755e}{c\_\_5}, &sa[1]);
349     \}
350     \textcolor{keywordflow}{if} (\hyperlink{CRSFIT_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug == 11) \{
351     \hyperlink{SCDUMP_8c_a407ea0ec05de474d31cb34c209fe3571}{scdump\_}(&\hyperlink{CRSFIT_8c_a3543660f1ae989ebc88144db7ea3ecfd}{c\_\_6}, &\hyperlink{APT088_8c_ac2a2594136fa4820872df1de2b046320}{sb}[1]);
352     \}
353 
354     *\hyperlink{APT001_8c_ae6291c7ad4bbbf5230272398ac66056b}{ierror} = 0;
355     \textcolor{keywordflow}{return} 0;
356 \} \textcolor{comment}{/* crsfit\_ */}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{CRSFIT_8c_a2557eb9de98437df734ebca02c00b4a8_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{CRSFIT_8c_a2557eb9de98437df734ebca02c00b4a8_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!c\+\_\+\+\_\+1@{c\+\_\+\+\_\+1}}
\index{c\+\_\+\+\_\+1@{c\+\_\+\+\_\+1}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+1}{c__1}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+1 = 1\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}{}\label{CRSFIT_8c_aac061f9822f71d2164eeeaae0e2a342c}


Definition at line 28 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!c\+\_\+\+\_\+2@{c\+\_\+\+\_\+2}}
\index{c\+\_\+\+\_\+2@{c\+\_\+\+\_\+2}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+2}{c__2}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+2 = 2\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{CRSFIT_8c_a4e8bcb2aadbe17eeff89a0f201645d0a}{}\label{CRSFIT_8c_a4e8bcb2aadbe17eeff89a0f201645d0a}


Definition at line 25 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!c\+\_\+\+\_\+3@{c\+\_\+\+\_\+3}}
\index{c\+\_\+\+\_\+3@{c\+\_\+\+\_\+3}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+3}{c__3}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+3 = 3\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{CRSFIT_8c_a5e7359f78743350865398325d9155f20}{}\label{CRSFIT_8c_a5e7359f78743350865398325d9155f20}


Definition at line 26 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!c\+\_\+\+\_\+4@{c\+\_\+\+\_\+4}}
\index{c\+\_\+\+\_\+4@{c\+\_\+\+\_\+4}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+4}{c__4}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+4 = 4\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{CRSFIT_8c_ab195470f8c6d55e333ee709af09ba2d6}{}\label{CRSFIT_8c_ab195470f8c6d55e333ee709af09ba2d6}


Definition at line 27 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!c\+\_\+\+\_\+5@{c\+\_\+\+\_\+5}}
\index{c\+\_\+\+\_\+5@{c\+\_\+\+\_\+5}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+5}{c__5}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+5 = 5\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{CRSFIT_8c_ac1b28bfdd6ccb89299c47817c082755e}{}\label{CRSFIT_8c_ac1b28bfdd6ccb89299c47817c082755e}


Definition at line 29 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!c\+\_\+\+\_\+6@{c\+\_\+\+\_\+6}}
\index{c\+\_\+\+\_\+6@{c\+\_\+\+\_\+6}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+6}{c__6}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+6 = 6\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{CRSFIT_8c_a3543660f1ae989ebc88144db7ea3ecfd}{}\label{CRSFIT_8c_a3543660f1ae989ebc88144db7ea3ecfd}


Definition at line 30 of file C\+R\+S\+F\+I\+T.\+c.



Referenced by crsfit\+\_\+().

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!ibug@{ibug}}
\index{ibug@{ibug}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{ibug}{ibug}}]{\setlength{\rightskip}{0pt plus 5cm}integer ibug}\hypertarget{CRSFIT_8c_acf8cd9aebbc7f97517952bf2f89ed57c}{}\label{CRSFIT_8c_acf8cd9aebbc7f97517952bf2f89ed57c}


Definition at line 18 of file C\+R\+S\+F\+I\+T.\+c.

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!ibugg\+\_\+@{ibugg\+\_\+}}
\index{ibugg\+\_\+@{ibugg\+\_\+}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{ibugg\+\_\+}{ibugg_}}]{\setlength{\rightskip}{0pt plus 5cm}struct \{ ... \}   ibugg\+\_\+}\hypertarget{CRSFIT_8c_acaf26aae16be49ce9ebcfd66b107d1da}{}\label{CRSFIT_8c_acaf26aae16be49ce9ebcfd66b107d1da}
\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!ipcolc@{ipcolc}}
\index{ipcolc@{ipcolc}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{ipcolc}{ipcolc}}]{\setlength{\rightskip}{0pt plus 5cm}integer ipcolc}\hypertarget{CRSFIT_8c_aa7c1d3b50810f4362d609ea905340770}{}\label{CRSFIT_8c_aa7c1d3b50810f4362d609ea905340770}


Definition at line 18 of file C\+R\+S\+F\+I\+T.\+c.

\index{C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}!ipcomc@{ipcomc}}
\index{ipcomc@{ipcomc}!C\+R\+S\+F\+I\+T.\+c@{C\+R\+S\+F\+I\+T.\+c}}
\subsubsection[{\texorpdfstring{ipcomc}{ipcomc}}]{\setlength{\rightskip}{0pt plus 5cm}integer ipcomc}\hypertarget{CRSFIT_8c_a0def98d78ab8101d518729447f28e4e8}{}\label{CRSFIT_8c_a0def98d78ab8101d518729447f28e4e8}


Definition at line 18 of file C\+R\+S\+F\+I\+T.\+c.

