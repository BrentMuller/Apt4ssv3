\hypertarget{ARCSEG_8c}{}\section{A\+R\+C\+S\+E\+G.\+c File Reference}
\label{ARCSEG_8c}\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
{\ttfamily \#include \char`\"{}f2c.\+h\char`\"{}}\\*
Include dependency graph for A\+R\+C\+S\+E\+G.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=148pt]{ARCSEG_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{ARCSEG_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\+\_\+1}~\hyperlink{XTPCAL_8c_a00d42583c036d05afed4d07a03432522}{ibugg\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{ARCSEG_8c_ad825ba5c668e9b3cdbc106d70829c35e}{arcseg\+\_\+} (doublereal $\ast$\hyperlink{ZSURF_8c_aff312e30f3c244d4d5f79f84e4916be5}{c\+\_\+\+\_\+}, doublereal $\ast$fl, doublereal $\ast$tolr, integer $\ast$\hyperlink{SSV3_8c_aa3c72ca6b3be24e62558686312531347}{num}, integer $\ast$\hyperlink{UTILTY_8c_a0d661a6bb3df87af1b762b190bbd38a0}{numax}, integer $\ast$irr)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>integer \hyperlink{ARCSEG_8c_acf8cd9aebbc7f97517952bf2f89ed57c}{ibug}\\
\>integer \hyperlink{ARCSEG_8c_aa7c1d3b50810f4362d609ea905340770}{ipcolc}\\
\>integer \hyperlink{ARCSEG_8c_a0def98d78ab8101d518729447f28e4e8}{ipcomc}\\
\} \hyperlink{ARCSEG_8c_a5d5ebe490054fb88581b2102e027c3c1}{ibugg\_}\\

\end{tabbing}\item 
static integer \hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\+\_\+\+\_\+1} = 1
\item 
static integer \hyperlink{ARCSEG_8c_a6a4ee26669af052a7e7fb5dda2b01f63}{c\+\_\+\+\_\+0} = 0
\item 
static integer \hyperlink{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}{c\+\_\+n1} = -\/1
\item 
static integer \hyperlink{ARCSEG_8c_a900642cfb0fdb02c80380e0b73330cb5}{c\+\_\+n4} = -\/4
\item 
static integer \hyperlink{ARCSEG_8c_a5e7359f78743350865398325d9155f20}{c\+\_\+\+\_\+3} = 3
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!ibugg\+\_\+1@{ibugg\+\_\+1}}
\index{ibugg\+\_\+1@{ibugg\+\_\+1}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{ibugg\+\_\+1}{ibugg_1}}]{\setlength{\rightskip}{0pt plus 5cm}\#define ibugg\+\_\+1~{\bf ibugg\+\_\+}}\hypertarget{ARCSEG_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{}\label{ARCSEG_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}


Definition at line 21 of file A\+R\+C\+S\+E\+G.\+c.



Referenced by arcseg\+\_\+().



\subsection{Function Documentation}
\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!arcseg\+\_\+@{arcseg\+\_\+}}
\index{arcseg\+\_\+@{arcseg\+\_\+}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{arcseg\+\_\+(doublereal $\ast$c\+\_\+\+\_\+, doublereal $\ast$fl, doublereal $\ast$tolr, integer $\ast$num, integer $\ast$numax, integer $\ast$irr)}{arcseg_(doublereal *c__, doublereal *fl, doublereal *tolr, integer *num, integer *numax, integer *irr)}}]{\setlength{\rightskip}{0pt plus 5cm}int arcseg\+\_\+ (
\begin{DoxyParamCaption}
\item[{doublereal $\ast$}]{c\+\_\+\+\_\+, }
\item[{doublereal $\ast$}]{fl, }
\item[{doublereal $\ast$}]{tolr, }
\item[{integer $\ast$}]{num, }
\item[{integer $\ast$}]{numax, }
\item[{integer $\ast$}]{irr}
\end{DoxyParamCaption}
)}\hypertarget{ARCSEG_8c_ad825ba5c668e9b3cdbc106d70829c35e}{}\label{ARCSEG_8c_ad825ba5c668e9b3cdbc106d70829c35e}


Definition at line 33 of file A\+R\+C\+S\+E\+G.\+c.



References a, a1, a2, aa, b, bad\+\_\+(), bb, c\+\_\+\+\_\+, c\+\_\+\+\_\+0, c\+\_\+\+\_\+1, c\+\_\+\+\_\+3, c\+\_\+n1, c\+\_\+n4, cc, cncurv\+\_\+(), d1, err, f, i\+\_\+\+\_\+, ia, ib, ibugg\+\_\+1, j, j1, nx, nx1, one, r\+\_\+\+\_\+, u, and zero.



Referenced by floseg\+\_\+().


\begin{DoxyCode}
35 \{
36     \textcolor{comment}{/* Initialized data */}
37 
38     \textcolor{keyword}{static} doublereal \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero} = 0.;
39     \textcolor{keyword}{static} doublereal \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one} = 1.;
40     \textcolor{keyword}{static} doublereal half = .5;
41     \textcolor{keyword}{static} doublereal smal = 1e-6;
42     \textcolor{keyword}{static} doublereal vsmal = 1e-30;
43 
44     \textcolor{comment}{/* System generated locals */}
45     integer i\_\_1;
46     doublereal d\_\_1, d\_\_2, d\_\_3;
47 
48     \textcolor{comment}{/* Builtin functions */}
49     \textcolor{keywordtype}{double} sqrt(doublereal);
50 
51     \textcolor{comment}{/* Local variables */}
52     \textcolor{keyword}{static} doublereal \hyperlink{APT102_8c_a8d3c3518d793541417a4845125da1ae1}{a}, \hyperlink{APT102_8c_ab2d05693952610f937e5acb3c4a8fa1b}{b};
53     \textcolor{keyword}{static} integer \hyperlink{APT088_8c_ae86436b0a8c8a69ba8ece7d58c8ed452}{i\_\_}, \hyperlink{PRO026_8c_aa8c84707b22bdc99b810d3c7d3ec5d52}{j};
54     \textcolor{keyword}{static} doublereal \hyperlink{APT088_8c_aca579bed964c363283f74a80e3dde742}{r\_\_}, \hyperlink{APT088_8c_a1f9aca42e2010bb82488684dee1a66ea}{u}, \hyperlink{APT088_8c_ab89a77e63a7226fffaecb2e2c2ab5219}{a1}, \hyperlink{APT088_8c_aa3fd046b2956875cf908d73a51a96b42}{a2}, \hyperlink{APT069_8c_a1fe17aa2ff1722c937379044a27da68a}{d1};
55     \textcolor{keyword}{static} integer \hyperlink{APT088_8c_adb1420ceddc2be1411560d4b4d3257e3}{j1}, j2;
56     \textcolor{keyword}{static} doublereal \hyperlink{APT109_8c_a34961a046133dbbf9e99f7077377a262}{aa}, \hyperlink{GOP_8c_a02df207cc55dd8e5a55b6f9d78d942d6}{bb}, \hyperlink{APT331_8c_ab4f83dc456530b76524da0756cc48dad}{cc};
57     \textcolor{keyword}{static} integer \hyperlink{ADV_8c_a4e70c76163aa7d3619a36cdf054bf041}{ia}, \hyperlink{LDARD_8c_a8ae555962fe1fc188c45ff01dd417905}{ib};
58     \textcolor{keyword}{static} doublereal cv[16];
59     \textcolor{keyword}{static} integer \hyperlink{APT301_8c_a20074569426d76a5518d4fc993f39687}{nx}, \hyperlink{APT301_8c_a9b7996a3e82007caff5d1f89a7f8769c}{nx1};
60     \textcolor{keyword}{extern} \textcolor{comment}{/* Subroutine */} \textcolor{keywordtype}{int} \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}();
61     \textcolor{keyword}{static} integer iii;
62     \textcolor{keyword}{static} doublereal \hyperlink{ACNTRL_8c_ab9574ad05adc2d78e28d0744d0fb9218}{err}, cvv[20]   \textcolor{comment}{/* was [4][5] */};
63     \textcolor{keyword}{static} integer now;
64     \textcolor{keyword}{static} doublereal unx;
65     \textcolor{keyword}{static} integer ichk;
66     \textcolor{keyword}{static} doublereal disc, sarc[3], udel, unow, tolri, ucheck, arclen;
67     \textcolor{keyword}{extern} \textcolor{comment}{/* Subroutine */} \textcolor{keywordtype}{int} \hyperlink{CNCURV_8c_a04761b7674edc68920b6ae1f87beb0b5}{cncurv\_}(doublereal *, doublereal *, 
68         doublereal *, integer *);
69 
70 \textcolor{comment}{/* ---     INPUT  C A RATIONAL PARAMETRIC CUBIC CURVE SEGMENT */}
71 \textcolor{comment}{/* ---     INPUT  NUMAX THE MAXIMUM NUMBER OF FLO RATE SPLINES ALLWD */}
72 \textcolor{comment}{/* ---    INPUT  TOLR THE TOLERANCE TO BE USED IN FITTING(.001 NORMAL) */}
73 \textcolor{comment}{/* ---    OUTPUT IRR ERROR FLAG, ZERO IS CORRECT, NONZERO IS ERROR. */}
74 \textcolor{comment}{/* ---     OUTPUT NUM  NUMBER OF FLOW SPLINES GENERATED */}
75 \textcolor{comment}{/* ---     OUTPUT FL(4,NUM) 4-POSITION FLOW FUNCTIONS CREATED. */}
76 \textcolor{comment}{/* ---            FL(1,I) IS THE ACCUMULATED ARC LENGTH */}
77 \textcolor{comment}{/* ---            FL(2,I) IS THE CORRESPONDING COONS PARAMETER */}
78 \textcolor{comment}{/* ---            FL(3,I) IS THE RATE OF CHANGE OF COONS PARAM */}
79 \textcolor{comment}{/* ---            FL(4,I) IS THE SECOND DERIVATIVE OF COON'S PARAMETER */}
80 
81 \textcolor{comment}{/* ---     PURPOSE IS GENERATE A CUBIC SEGMENT WITH ARC AS FLOW RATE. */}
82 
83 \textcolor{comment}{/*   HILFSSPEICHER FUER 5 ZWISCHENPUNKTE */}
84     \textcolor{comment}{/* Parameter adjustments */}
85     --\hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_};
86     fl -= 5;
87 
88     \textcolor{comment}{/* Function Body */}
89 \textcolor{comment}{/* ---     NOW=CURRENT ACCEPTED POINT, NX=NEXT CADIDATE POINT */}
90 \textcolor{comment}{/* ---     ALGORITHM PROCEEDS BY SUBDIVIDING REMAINING ARC BY TWO */}
91 \textcolor{comment}{/* ---     UNTIL A SATISFACTORY PARAMETERIZATION OF A SUBARC IS OBTAINED */}
92     now = 1;
93     arclen = \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero};
94     unow = \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero};
95     \hyperlink{CNCURV_8c_a04761b7674edc68920b6ae1f87beb0b5}{cncurv\_}(&unow, &\hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[1], cv, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1});
96 \textcolor{comment}{/* ---     DETERMINE RATES OF CHANGE AT THIS POINT */}
97 \textcolor{comment}{/* Computing 2nd power */}
98     d\_\_1 = cv[4];
99 \textcolor{comment}{/* Computing 2nd power */}
100     d\_\_2 = cv[5];
101 \textcolor{comment}{/* Computing 2nd power */}
102     d\_\_3 = cv[6];
103     a = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3) + vsmal;
104     b = (cv[4] * cv[8] + cv[5] * cv[9] + cv[6] * cv[10]) / a;
105 \textcolor{comment}{/* ---     LOAD THE KEY VALUES FOR THE STARTING POINT */}
106     fl[(now << 2) + 1] = arclen;
107     fl[(now << 2) + 2] = unow;
108     fl[(now << 2) + 3] = one / a;
109 \textcolor{comment}{/* Computing 3rd power */}
110     d\_\_1 = \hyperlink{APT102_8c_a8d3c3518d793541417a4845125da1ae1}{a};
111     fl[(now << 2) + 4] = -b / (d\_\_1 * (d\_\_1 * d\_\_1));
112     unx = .76f;
113 \textcolor{comment}{/*   'FLOW,ARC,...'  KORREKTOR BEI GERADEN 'SPLINE/CURSEG'-BOEGEN */}
114     \textcolor{keywordflow}{if} (\hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[13] != one || \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[14] != one || \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[15] != zero || \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[16] != 
115         zero) \{
116     \textcolor{keywordflow}{goto} L45;
117     \}
118     \textcolor{keywordflow}{if} ((d\_\_1 = \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[2] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[1] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[3], abs(d\_\_1)) > smal || (d\_\_2 = 
      \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[3] 
119         - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[4], abs(d\_\_2)) > smal) \{
120     \textcolor{keywordflow}{goto} L45;
121     \}
122     \textcolor{keywordflow}{if} ((d\_\_1 = \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[6] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[5] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[7], abs(d\_\_1)) > smal || (d\_\_2 = 
      \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[7] 
123         - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[8], abs(d\_\_2)) > smal) \{
124     \textcolor{keywordflow}{goto} L45;
125     \}
126     \textcolor{keywordflow}{if} ((d\_\_1 = \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[10] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[9] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[11], abs(d\_\_1)) > smal || (d\_\_2 = 
      \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[
127         11] - \hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[12], abs(d\_\_2)) > smal) \{
128     \textcolor{keywordflow}{goto} L45;
129     \}
130     \textcolor{keywordflow}{goto} L49;
131 \textcolor{comment}{/*   UNTERSUCHUNG AUF ANNAEHERND GERADEN BOEGEN */}
132 L45:
133     \textcolor{keywordflow}{for} (j = 1; j <= 5; ++\hyperlink{PRO026_8c_aa8c84707b22bdc99b810d3c7d3ec5d52}{j}) \{
134     u = (doublereal) j;
135     u = (u - 1.) / 4.;
136 \textcolor{comment}{/* L46: */}
137     \hyperlink{CNCURV_8c_a04761b7674edc68920b6ae1f87beb0b5}{cncurv\_}(&u, &\hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[1], &cvv[(j << 2) - 4], &\hyperlink{ARCSEG_8c_a6a4ee26669af052a7e7fb5dda2b01f63}{c\_\_0});
138     \}
139 \textcolor{comment}{/* BERECHNUNG DER DISTANZEN */}
140     \textcolor{keywordflow}{for} (j = 1; j <= 5; ++\hyperlink{PRO026_8c_aa8c84707b22bdc99b810d3c7d3ec5d52}{j}) \{
141     j1 = \hyperlink{PRO026_8c_aa8c84707b22bdc99b810d3c7d3ec5d52}{j};
142     j2 = j + 1;
143     \textcolor{keywordflow}{if} (j != 5) \{
144         \textcolor{keywordflow}{goto} L48;
145     \}
146     j1 = 1;
147     j2 = 5;
148 L48:
149 \textcolor{comment}{/* Computing 2nd power */}
150     d\_\_1 = cvv[(j2 << 2) - 4] - cvv[(j1 << 2) - 4];
151 \textcolor{comment}{/* Computing 2nd power */}
152     d\_\_2 = cvv[(j2 << 2) - 3] - cvv[(j1 << 2) - 3];
153 \textcolor{comment}{/* Computing 2nd power */}
154     d\_\_3 = cvv[(j2 << 2) - 2] - cvv[(j1 << 2) - 2];
155     cvv[(j << 2) - 1] = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3);
156 \textcolor{comment}{/* L47: */}
157     \}
158     a1 = cvv[3] + cvv[7] + cvv[11] + cvv[15];
159     tolri = (a1 - cvv[19]) / cvv[19];
160     \textcolor{keywordflow}{if} (abs(tolri) > *tolr) \{
161     \textcolor{keywordflow}{goto} L50;
162     \}
163     a2 = cvv[19] / 4.;
164     \textcolor{keywordflow}{for} (j = 1; j <= 4; ++\hyperlink{PRO026_8c_aa8c84707b22bdc99b810d3c7d3ec5d52}{j}) \{
165     \textcolor{keywordflow}{if} ((d\_\_1 = (cvv[(j << 2) - 1] - a2) / a2, abs(d\_\_1)) > *tolr) \{
166         \textcolor{keywordflow}{goto} L50;
167     \}
168 \textcolor{comment}{/* L42: */}
169     \}
170 \textcolor{comment}{/*    TESTDRUCKE  *************** */}
171     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}{c\_n1}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"TOLI"}, &tolri, (ftnlen)4);
172     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"TOLR"}, tolr, (ftnlen)4);
173     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"A   "}, &a, (ftnlen)4);
174     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"A1  "}, &a1, (ftnlen)4);
175     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}{c\_n1}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"B   "}, &b, (ftnlen)4);
176     a = \hyperlink{APT088_8c_ab89a77e63a7226fffaecb2e2c2ab5219}{a1};
177 L49:
178     *irr = 22;
179     now = 2;
180     fl[9] = a - vsmal;
181     fl[10] = \hyperlink{APT298_8c_a7cf126dbeb6f30c606e3b42fea65cfef}{one};
182     fl[7] = one / fl[9];
183     fl[11] = fl[7];
184     fl[8] = \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero};
185     fl[12] = fl[8];
186     \textcolor{keywordflow}{if} (now > *\hyperlink{AERR_8c_a0d661a6bb3df87af1b762b190bbd38a0}{numax} - 2) \{
187     \textcolor{keywordflow}{goto} L999;
188     \}
189     \textcolor{keywordflow}{goto} L500;
190 \textcolor{comment}{/* --- */}
191 L50:
192     ichk = 1;
193 L60:
194     \hyperlink{CNCURV_8c_a04761b7674edc68920b6ae1f87beb0b5}{cncurv\_}(&unx, &\hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[1], cv, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1});
195     nx = now + 1;
196 \textcolor{comment}{/* ---     DETERMINE RATES OF CHANGE AT THIS POINT */}
197 \textcolor{comment}{/* Computing 2nd power */}
198     d\_\_1 = cv[4];
199 \textcolor{comment}{/* Computing 2nd power */}
200     d\_\_2 = cv[5];
201 \textcolor{comment}{/* Computing 2nd power */}
202     d\_\_3 = cv[6];
203     a = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3) + vsmal;
204     b = (cv[4] * cv[8] + cv[5] * cv[9] + cv[6] * cv[10]) / a;
205 \textcolor{comment}{/* ---     LOAD THE KEY VALUES */}
206     fl[(nx << 2) + 1] = arclen;
207     fl[(nx << 2) + 2] = unx;
208     fl[(nx << 2) + 3] = one / a;
209 \textcolor{comment}{/* Computing 3rd power */}
210     d\_\_1 = \hyperlink{APT102_8c_a8d3c3518d793541417a4845125da1ae1}{a};
211     fl[(nx << 2) + 4] = -b / (d\_\_1 * (d\_\_1 * d\_\_1));
212 
213 \textcolor{comment}{/* ---     CALCULATE THE MID PT BETWEEN UNOW AND UNX AND CHECK FOR */}
214 \textcolor{comment}{/* ---     TOLERANCE BETWEEN TOTAL ARC AND SUM OF SUBARCS. */}
215 \textcolor{comment}{/* L100: */}
216     ucheck = (unow + unx) * half;
217     \hyperlink{CNCURV_8c_a04761b7674edc68920b6ae1f87beb0b5}{cncurv\_}(&ucheck, &\hyperlink{APT102_8c_a08155df95fc9d53ed93911b9a9667d17}{c\_\_}[1], cv, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1});
218 \textcolor{comment}{/* ---     DETERMINE RATES OF CHANGE AT THIS POINT */}
219 \textcolor{comment}{/* Computing 2nd power */}
220     d\_\_1 = cv[4];
221 \textcolor{comment}{/* Computing 2nd power */}
222     d\_\_2 = cv[5];
223 \textcolor{comment}{/* Computing 2nd power */}
224     d\_\_3 = cv[6];
225     a = sqrt(d\_\_1 * d\_\_1 + d\_\_2 * d\_\_2 + d\_\_3 * d\_\_3) + vsmal;
226     b = (cv[4] * cv[8] + cv[5] * cv[9] + cv[6] * cv[10]) / a;
227 \textcolor{comment}{/* ---     LOAD THE KEY VALUES */}
228     fl[(nx + 1 << 2) + 2] = ucheck;
229     fl[(nx + 1 << 2) + 3] = one / a;
230 \textcolor{comment}{/* Computing 3rd power */}
231     d\_\_1 = \hyperlink{APT102_8c_a8d3c3518d793541417a4845125da1ae1}{a};
232     fl[(nx + 1 << 2) + 4] = -b / (d\_\_1 * (d\_\_1 * d\_\_1));
233 \textcolor{comment}{/* ---     COMPARE UNOW,UNX  UNOW,UCHECK  UCHECK,UNX */}
234     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= 3; ++\hyperlink{APT088_8c_ae86436b0a8c8a69ba8ece7d58c8ed452}{i\_\_}) \{
235     ia = now;
236     ib = \hyperlink{APT301_8c_a20074569426d76a5518d4fc993f39687}{nx};
237     \textcolor{keywordflow}{if} (i\_\_ == 3) \{
238         ia += 2;
239     \}
240     \textcolor{keywordflow}{if} (i\_\_ == 2) \{
241         ++\hyperlink{LDARD_8c_a8ae555962fe1fc188c45ff01dd417905}{ib};
242     \}
243 \textcolor{comment}{/* ---     COMPUTE ARC LENGTH BY SPECIAL SPLINE FUNCTION FORMULA. */}
244     sarc[i\_\_ - 1] = (fl[(ib << 2) + 2] - fl[(ia << 2) + 2]) * 3.\hyperlink{APT102_8c_a7a51ed112e9b79f89e3e70beb8db8bf5}{f} * (fl[(
245         ib << 2) + 4] + fl[(ia << 2) + 4]);
246     a = fl[(ib << 2) + 4] * (fl[(ia << 2) + 3] * 2.f + fl[(ib << 2) + 3]) 
247         + fl[(ia << 2) + 4] * (fl[(ia << 2) + 3] + fl[(ib << 2) + 3] *
248          2.\hyperlink{APT102_8c_a7a51ed112e9b79f89e3e70beb8db8bf5}{f});
249     \textcolor{keywordflow}{if} (abs(a) < vsmal) \{
250         \textcolor{keywordflow}{goto} L109;
251     \}
252     sarc[i\_\_ - 1] /= \hyperlink{APT102_8c_a8d3c3518d793541417a4845125da1ae1}{a};
253     \textcolor{keywordflow}{goto} L110;
254 \textcolor{comment}{/* ---     SPECIAL PATH WHEN SECOND DERIVATIVE IS ZERO */}
255 L109:
256     d1 = \hyperlink{APT301_8c_a361b1d0588e13a7b5994f24b40138ec0}{zero};
257     \textcolor{keywordflow}{if} ((d\_\_1 = fl[(ia << 2) + 3], abs(d\_\_1)) > vsmal * smal) \{
258         d1 = one / fl[(ia << 2) + 3];
259     \}
260     \textcolor{keywordflow}{if} ((d\_\_1 = fl[(ib << 2) + 3], abs(d\_\_1)) > vsmal * smal) \{
261         d1 += one / fl[(ib << 2) + 3];
262     \}
263     *irr = 23;
264     \textcolor{keywordflow}{if} (d1 == zero) \{
265         \textcolor{keywordflow}{goto} L999;
266     \}
267     sarc[i\_\_ - 1] = (fl[(ib << 2) + 2] - fl[(ia << 2) + 2]) * d1 / 2.;
268 L110:
269     ;
270     \}
271 
272     err = (sarc[0] - sarc[1] - sarc[2]) / (sarc[0] + vsmal);
273     \textcolor{keywordflow}{if} (\hyperlink{ARCSEG_8c_aa2a88aa3f2e858e87f5074fadc0e1d8e}{ibugg\_1}.ibug != 11) \{
274     \textcolor{keywordflow}{goto} L23;
275     \}
276     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}{c\_n1}, &\hyperlink{ARCSEG_8c_a6a4ee26669af052a7e7fb5dda2b01f63}{c\_\_0}, \textcolor{stringliteral}{" "}, &\hyperlink{ARCSEG_8c_a6a4ee26669af052a7e7fb5dda2b01f63}{c\_\_0}, (ftnlen)1);
277     nx1 = nx + 1;
278     i\_\_1 = \hyperlink{APT301_8c_a9b7996a3e82007caff5d1f89a7f8769c}{nx1};
279     \textcolor{keywordflow}{for} (iii = now; iii <= i\_\_1; ++iii) \{
280     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_a900642cfb0fdb02c80380e0b73330cb5}{c\_n4}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"FL  "}, &fl[(iii << 2) + 1], (ftnlen)4);
281 \textcolor{comment}{/* L24: */}
282     \}
283     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_a5e7359f78743350865398325d9155f20}{c\_\_3}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"SARC"}, sarc, (ftnlen)4);
284     \hyperlink{BAD_8c_a4e7ec5852aef8f8487def3a6dc8b71b1}{bad\_}(&\hyperlink{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}{c\_n1}, &\hyperlink{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{c\_\_1}, \textcolor{stringliteral}{"ERR "}, &err, (ftnlen)4);
285 L23:
286     \textcolor{keywordflow}{if} (abs(err) > *tolr) \{
287     \textcolor{keywordflow}{goto} L150;
288     \}
289 \textcolor{comment}{/* ---     ACCURACY IS OKAY, NOW CHECK IF SPLINE IS INCREASING */}
290     \textcolor{keywordflow}{if} (fl[(now << 2) + 2] >= fl[(now + 1 << 2) + 2]) \{
291     \textcolor{keywordflow}{goto} L150;
292     \}
293     \textcolor{keywordflow}{if} (fl[(now << 2) + 3] <= zero) \{
294     \textcolor{keywordflow}{goto} L150;
295     \}
296     \textcolor{keywordflow}{if} (fl[(nx << 2) + 3] <= zero) \{
297     \textcolor{keywordflow}{goto} L150;
298     \}
299 \textcolor{comment}{/* ---     NOW CHECK FOR A MAX OR MIN WITHIN THE INTERVAL */}
300     a = fl[(now << 2) + 3] * sarc[0];
301     b = fl[(nx << 2) + 3] * sarc[0];
302     aa = (b + a - (fl[(nx << 2) + 2] - fl[(now << 2) + 2]) * 2.) * 3.;
303     \textcolor{keywordflow}{if} (abs(aa) < vsmal) \{
304     aa = vsmal;
305     \}
306     bb = ((fl[(nx << 2) + 2] - fl[(now << 2) + 2]) * 3.\hyperlink{APT102_8c_a7a51ed112e9b79f89e3e70beb8db8bf5}{f} - a * 2.\hyperlink{APT102_8c_a7a51ed112e9b79f89e3e70beb8db8bf5}{f} - b) * 2.f;
307     cc = \hyperlink{APT102_8c_a8d3c3518d793541417a4845125da1ae1}{a};
308     disc = bb * bb - aa * 4.f * \hyperlink{APT331_8c_ab4f83dc456530b76524da0756cc48dad}{cc};
309     \textcolor{keywordflow}{if} (disc < zero) \{
310     \textcolor{keywordflow}{goto} L140;
311     \}
312     disc = sqrt(disc);
313     r\_\_ = (-bb - disc) / (aa * 2.\hyperlink{APT102_8c_a7a51ed112e9b79f89e3e70beb8db8bf5}{f});
314     \textcolor{keywordflow}{if} ((d\_\_1 = r\_\_ - half, abs(d\_\_1)) < half) \{
315     \textcolor{keywordflow}{goto} L150;
316     \}
317     r\_\_ = (-bb + disc) / (aa * 2.f);
318     \textcolor{keywordflow}{if} ((d\_\_1 = r\_\_ - half, abs(d\_\_1)) < half) \{
319     \textcolor{keywordflow}{goto} L150;
320     \}
321 L140:
322 \textcolor{comment}{/* ---     FUNCTION MEETS ALL CONDITIONS, NOW CONSOLIDATE AND TRY */}
323 \textcolor{comment}{/* ---     TO FIT NEXT SUBARC. */}
324     fl[(nx << 2) + 1] = sarc[0] + arclen;
325     arclen += sarc[0];
326 \textcolor{comment}{/* ---     UPDATE POINTER AND TRY TO FIT NEXT SUBARC */}
327     ++now;
328     udel = unx - unow;
329     unow = unx;
330     unx = unow + udel * 4.f;
331     unx = min(one,unx);
332     \textcolor{keywordflow}{if} (unow >= one - vsmal) \{
333     \textcolor{keywordflow}{goto} L500;
334     \}
335     *irr = 22;
336     \textcolor{keywordflow}{if} (now > *\hyperlink{AERR_8c_a0d661a6bb3df87af1b762b190bbd38a0}{numax} - 2) \{
337     \textcolor{keywordflow}{goto} L999;
338     \}
339     \textcolor{keywordflow}{goto} L50;
340 \textcolor{comment}{/* ---     CUT SUBARC IN HALF AND TRY TO FIT AGAIN */}
341 L150:
342     unx = ucheck;
343     ++ichk;
344     *irr = 1;
345     \textcolor{keywordflow}{if} (ichk > 10) \{
346     \textcolor{keywordflow}{goto} L999;
347     \}
348     \textcolor{keywordflow}{goto} L60;
349 \textcolor{comment}{/* ---     PROPER END OF PROCESSING */}
350 L500:
351     *irr = 0;
352 L999:
353     *\hyperlink{APT301_8c_aa3c72ca6b3be24e62558686312531347}{num} = now;
354     \textcolor{keywordflow}{return} 0;
355 \} \textcolor{comment}{/* arcseg\_ */}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ARCSEG_8c_ad825ba5c668e9b3cdbc106d70829c35e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ARCSEG_8c_ad825ba5c668e9b3cdbc106d70829c35e_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!c\+\_\+\+\_\+0@{c\+\_\+\+\_\+0}}
\index{c\+\_\+\+\_\+0@{c\+\_\+\+\_\+0}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+0}{c__0}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+0 = 0\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{ARCSEG_8c_a6a4ee26669af052a7e7fb5dda2b01f63}{}\label{ARCSEG_8c_a6a4ee26669af052a7e7fb5dda2b01f63}


Definition at line 26 of file A\+R\+C\+S\+E\+G.\+c.



Referenced by arcseg\+\_\+().

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!c\+\_\+\+\_\+1@{c\+\_\+\+\_\+1}}
\index{c\+\_\+\+\_\+1@{c\+\_\+\+\_\+1}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+1}{c__1}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+1 = 1\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}{}\label{ARCSEG_8c_aac061f9822f71d2164eeeaae0e2a342c}


Definition at line 25 of file A\+R\+C\+S\+E\+G.\+c.



Referenced by arcseg\+\_\+().

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!c\+\_\+\+\_\+3@{c\+\_\+\+\_\+3}}
\index{c\+\_\+\+\_\+3@{c\+\_\+\+\_\+3}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+\+\_\+3}{c__3}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+\+\_\+3 = 3\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{ARCSEG_8c_a5e7359f78743350865398325d9155f20}{}\label{ARCSEG_8c_a5e7359f78743350865398325d9155f20}


Definition at line 29 of file A\+R\+C\+S\+E\+G.\+c.



Referenced by arcseg\+\_\+().

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!c\+\_\+n1@{c\+\_\+n1}}
\index{c\+\_\+n1@{c\+\_\+n1}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+n1}{c_n1}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+n1 = -\/1\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}{}\label{ARCSEG_8c_a9e9287f317ef3436252a395791a899f6}


Definition at line 27 of file A\+R\+C\+S\+E\+G.\+c.



Referenced by arcseg\+\_\+().

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!c\+\_\+n4@{c\+\_\+n4}}
\index{c\+\_\+n4@{c\+\_\+n4}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+n4}{c_n4}}]{\setlength{\rightskip}{0pt plus 5cm}integer c\+\_\+n4 = -\/4\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{ARCSEG_8c_a900642cfb0fdb02c80380e0b73330cb5}{}\label{ARCSEG_8c_a900642cfb0fdb02c80380e0b73330cb5}


Definition at line 28 of file A\+R\+C\+S\+E\+G.\+c.



Referenced by arcseg\+\_\+().

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!ibug@{ibug}}
\index{ibug@{ibug}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{ibug}{ibug}}]{\setlength{\rightskip}{0pt plus 5cm}integer ibug}\hypertarget{ARCSEG_8c_acf8cd9aebbc7f97517952bf2f89ed57c}{}\label{ARCSEG_8c_acf8cd9aebbc7f97517952bf2f89ed57c}


Definition at line 18 of file A\+R\+C\+S\+E\+G.\+c.

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!ibugg\+\_\+@{ibugg\+\_\+}}
\index{ibugg\+\_\+@{ibugg\+\_\+}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{ibugg\+\_\+}{ibugg_}}]{\setlength{\rightskip}{0pt plus 5cm}struct \{ ... \}   ibugg\+\_\+}\hypertarget{ARCSEG_8c_a5d5ebe490054fb88581b2102e027c3c1}{}\label{ARCSEG_8c_a5d5ebe490054fb88581b2102e027c3c1}
\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!ipcolc@{ipcolc}}
\index{ipcolc@{ipcolc}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{ipcolc}{ipcolc}}]{\setlength{\rightskip}{0pt plus 5cm}integer ipcolc}\hypertarget{ARCSEG_8c_aa7c1d3b50810f4362d609ea905340770}{}\label{ARCSEG_8c_aa7c1d3b50810f4362d609ea905340770}


Definition at line 18 of file A\+R\+C\+S\+E\+G.\+c.

\index{A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}!ipcomc@{ipcomc}}
\index{ipcomc@{ipcomc}!A\+R\+C\+S\+E\+G.\+c@{A\+R\+C\+S\+E\+G.\+c}}
\subsubsection[{\texorpdfstring{ipcomc}{ipcomc}}]{\setlength{\rightskip}{0pt plus 5cm}integer ipcomc}\hypertarget{ARCSEG_8c_a0def98d78ab8101d518729447f28e4e8}{}\label{ARCSEG_8c_a0def98d78ab8101d518729447f28e4e8}


Definition at line 18 of file A\+R\+C\+S\+E\+G.\+c.

